<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for spec\Firefox\UDPSpec.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../prettify.css">
    <link rel="stylesheet" href="../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header high">
    <h1>Code coverage report for <span class="entity">spec\Firefox\UDPSpec.js</span></h1>
    <h2>
        Statements: <span class="metric">100% <small>(27 / 27)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">100% <small>(5 / 5)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">100% <small>(27 / 27)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../index.html">All files</a> &#187; <a href="index.html">spec/Firefox/</a> &#187; UDPSpec.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">///&lt;reference path="../support/jasmine.d.ts" /&gt;
&nbsp;
"use strict";
&nbsp;
require("babel/register");
&nbsp;
var Constants = require("../../lib/Constants");
var UDP = require("../../lib/Firefox/UDP");
&nbsp;
describe("UDP", function () {
	var _sut;
	var _mockScriptSecurityManager;
	var _mockUDPSocketProvider;
	beforeEach(function () {
		_mockScriptSecurityManager = jasmine.createSpy("_mockScriptSecurityManager");
		_mockUDPSocketProvider = jasmine.createSpy("_mockUDPSocketProvider");
		_sut = new UDP(_mockUDPSocketProvider, _mockScriptSecurityManager);
	});
&nbsp;
	describe("createUDPSocket", function () {
		it("should return a new UDP socket with random source port when sourcePort is not provided", function () {
			//arrange
			var mockSocket = jasmine.createSpyObj("mockSocket", ["init"]);
			_mockUDPSocketProvider.and.returnValue(mockSocket);
&nbsp;
			//act
			var actual = _sut.createUDPSocket();
&nbsp;
			//assert
			expect(_mockUDPSocketProvider).toHaveBeenCalledWith();
			expect(mockSocket.init).toHaveBeenCalledWith(-1, false, _mockScriptSecurityManager);
			expect(actual).toBe(mockSocket);
		});
		it("should return a new UDP socket with specified source port when sourcePort is provided", function () {
			//arrange
			var mockSocket = jasmine.createSpyObj("mockSocket", ["init"]);
			_mockUDPSocketProvider.and.returnValue(mockSocket);
			var sourcePort = "19765";
&nbsp;
			//act
			var actual = _sut.createUDPSocket(sourcePort);
&nbsp;
			//assert
			expect(_mockUDPSocketProvider).toHaveBeenCalledWith();
			expect(mockSocket.init).toHaveBeenCalledWith(sourcePort, false, _mockScriptSecurityManager);
			expect(actual).toBe(mockSocket);
		});
	});
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlk6L1Byb2plY3RzL01vZHVsZXMvT21uaXNjaWVuY2UtU2RrLVJlc29sdmVyL3NwZWMvRmlyZWZveC9VRFBTcGVjLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFFQSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzs7QUFFMUIsSUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUM7QUFDakQsSUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixDQUFDLENBQUM7O0FBRTdDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsWUFBWTtBQUMzQixLQUFJLElBQUksQ0FBQztBQUNULEtBQUksMEJBQTBCLENBQUM7QUFDL0IsS0FBSSxzQkFBc0IsQ0FBQztBQUMzQixXQUFVLENBQUMsWUFBWTtBQUN0Qiw0QkFBMEIsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLDRCQUE0QixDQUFDLENBQUM7QUFDN0Usd0JBQXNCLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0FBQ3JFLE1BQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSwwQkFBMEIsQ0FBQyxDQUFDO0VBQ25FLENBQUMsQ0FBQzs7QUFFSCxTQUFRLENBQUMsaUJBQWlCLEVBQUUsWUFBWTtBQUN2QyxJQUFFLENBQUMsd0ZBQXdGLEVBQUUsWUFBWTs7QUFFeEcsT0FBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQzlELHlCQUFzQixDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7OztBQUduRCxPQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7OztBQUdwQyxTQUFNLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO0FBQ3RELFNBQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLDBCQUEwQixDQUFDLENBQUM7QUFDcEYsU0FBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztHQUNoQyxDQUFDLENBQUM7QUFDSCxJQUFFLENBQUMsdUZBQXVGLEVBQUUsWUFBWTs7QUFFdkcsT0FBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQzlELHlCQUFzQixDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDbkQsT0FBSSxVQUFVLEdBQUcsT0FBTyxDQUFDOzs7QUFHekIsT0FBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQzs7O0FBRzlDLFNBQU0sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLG9CQUFvQixFQUFFLENBQUM7QUFDdEQsU0FBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxVQUFVLEVBQUUsS0FBSyxFQUFFLDBCQUEwQixDQUFDLENBQUM7QUFDNUYsU0FBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztHQUNoQyxDQUFDLENBQUM7RUFDSCxDQUFDLENBQUM7Q0FDSCxDQUFDLENBQUMiLCJmaWxlIjoiWTovUHJvamVjdHMvTW9kdWxlcy9PbW5pc2NpZW5jZS1TZGstUmVzb2x2ZXIvc3BlYy9GaXJlZm94L1VEUFNwZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi9zdXBwb3J0L2phc21pbmUuZC50c1wiIC8+XHJcblxyXG5yZXF1aXJlKFwiYmFiZWwvcmVnaXN0ZXJcIik7XHJcblxyXG5jb25zdCBDb25zdGFudHMgPSByZXF1aXJlKFwiLi4vLi4vbGliL0NvbnN0YW50c1wiKTtcclxuY29uc3QgVURQID0gcmVxdWlyZShcIi4uLy4uL2xpYi9GaXJlZm94L1VEUFwiKTtcclxuXHJcbmRlc2NyaWJlKFwiVURQXCIsIGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgX3N1dDtcclxuXHR2YXIgX21vY2tTY3JpcHRTZWN1cml0eU1hbmFnZXI7XHJcblx0dmFyIF9tb2NrVURQU29ja2V0UHJvdmlkZXI7XHJcblx0YmVmb3JlRWFjaChmdW5jdGlvbiAoKSB7XHJcblx0XHRfbW9ja1NjcmlwdFNlY3VyaXR5TWFuYWdlciA9IGphc21pbmUuY3JlYXRlU3B5KFwiX21vY2tTY3JpcHRTZWN1cml0eU1hbmFnZXJcIik7XHJcblx0XHRfbW9ja1VEUFNvY2tldFByb3ZpZGVyID0gamFzbWluZS5jcmVhdGVTcHkoXCJfbW9ja1VEUFNvY2tldFByb3ZpZGVyXCIpO1xyXG5cdFx0X3N1dCA9IG5ldyBVRFAoX21vY2tVRFBTb2NrZXRQcm92aWRlciwgX21vY2tTY3JpcHRTZWN1cml0eU1hbmFnZXIpO1xyXG5cdH0pO1xyXG5cclxuXHRkZXNjcmliZShcImNyZWF0ZVVEUFNvY2tldFwiLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRpdChcInNob3VsZCByZXR1cm4gYSBuZXcgVURQIHNvY2tldCB3aXRoIHJhbmRvbSBzb3VyY2UgcG9ydCB3aGVuIHNvdXJjZVBvcnQgaXMgbm90IHByb3ZpZGVkXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Ly9hcnJhbmdlXHJcblx0XHRcdHZhciBtb2NrU29ja2V0ID0gamFzbWluZS5jcmVhdGVTcHlPYmooXCJtb2NrU29ja2V0XCIsIFtcImluaXRcIl0pO1xyXG5cdFx0XHRfbW9ja1VEUFNvY2tldFByb3ZpZGVyLmFuZC5yZXR1cm5WYWx1ZShtb2NrU29ja2V0KTtcclxuXHJcblx0XHRcdC8vYWN0XHJcblx0XHRcdHZhciBhY3R1YWwgPSBfc3V0LmNyZWF0ZVVEUFNvY2tldCgpO1xyXG5cclxuXHRcdFx0Ly9hc3NlcnRcclxuXHRcdFx0ZXhwZWN0KF9tb2NrVURQU29ja2V0UHJvdmlkZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCk7XHJcblx0XHRcdGV4cGVjdChtb2NrU29ja2V0LmluaXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKC0xLCBmYWxzZSwgX21vY2tTY3JpcHRTZWN1cml0eU1hbmFnZXIpO1xyXG5cdFx0XHRleHBlY3QoYWN0dWFsKS50b0JlKG1vY2tTb2NrZXQpO1xyXG5cdFx0fSk7XHJcblx0XHRpdChcInNob3VsZCByZXR1cm4gYSBuZXcgVURQIHNvY2tldCB3aXRoIHNwZWNpZmllZCBzb3VyY2UgcG9ydCB3aGVuIHNvdXJjZVBvcnQgaXMgcHJvdmlkZWRcIiwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQvL2FycmFuZ2VcclxuXHRcdFx0dmFyIG1vY2tTb2NrZXQgPSBqYXNtaW5lLmNyZWF0ZVNweU9iaihcIm1vY2tTb2NrZXRcIiwgW1wiaW5pdFwiXSk7XHJcblx0XHRcdF9tb2NrVURQU29ja2V0UHJvdmlkZXIuYW5kLnJldHVyblZhbHVlKG1vY2tTb2NrZXQpO1xyXG5cdFx0XHR2YXIgc291cmNlUG9ydCA9IFwiMTk3NjVcIjtcclxuXHJcblx0XHRcdC8vYWN0XHJcblx0XHRcdHZhciBhY3R1YWwgPSBfc3V0LmNyZWF0ZVVEUFNvY2tldChzb3VyY2VQb3J0KTtcclxuXHJcblx0XHRcdC8vYXNzZXJ0XHJcblx0XHRcdGV4cGVjdChfbW9ja1VEUFNvY2tldFByb3ZpZGVyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgpO1xyXG5cdFx0XHRleHBlY3QobW9ja1NvY2tldC5pbml0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChzb3VyY2VQb3J0LCBmYWxzZSwgX21vY2tTY3JpcHRTZWN1cml0eU1hbmFnZXIpO1xyXG5cdFx0XHRleHBlY3QoYWN0dWFsKS50b0JlKG1vY2tTb2NrZXQpO1xyXG5cdFx0fSk7XHJcblx0fSk7XHJcbn0pOyJdfQ==</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sat Jun 27 2015 17:35:50 GMT-0500 (Central Daylight Time)</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
